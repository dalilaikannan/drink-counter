{"version":3,"file":"preload.es.js","sources":["../src/index.js"],"sourcesContent":["export default function preload(imageUrls) {\n    let images = [],\n        count = 0,\n        doneAction = function () {},\n        progressAction = function () {};\n\n    imageUrls = (typeof imageUrls != 'object') ? [imageUrls] : imageUrls;\n\n    imageUrls.length === 0 && doneAction(images);\n\n    imageUrls.map((image, i) => {\n        images[i] = new Image();\n        images[i].src = image;\n        images[i].onload = imageLoad;\n        images[i].onerror = imageLoad;\n    });\n\n    function imageLoad() {\n        progressAction((count + 1) * 100 / images.length, images[count]);\n        count++;\n        if (count == imageUrls.length) doneAction(imageUrls.length === 1 ? images[0] : images);\n    }\n\n    return {\n        done() {\n            doneAction = arguments[0] || doneAction;\n        },\n        progress() {\n            progressAction = arguments[0] || progressAction;\n        },\n    };\n}\n"],"names":["preload","imageUrls","images","count","doneAction","progressAction","length","map","image","i","Image","src","onload","imageLoad","onerror","arguments"],"mappings":";;AAAA,AAAe,SAASA,OAAT,CAAiBC,SAAjB,EAA4B;QACnCC,SAAS,EAAb;QACIC,QAAQ,CADZ;QAEIC,aAAa,sBAAY,EAF7B;QAGIC,iBAAiB,0BAAY,EAHjC;;gBAKa,QAAOJ,SAAP,yCAAOA,SAAP,MAAoB,QAArB,GAAiC,CAACA,SAAD,CAAjC,GAA+CA,SAA3D;;cAEUK,MAAV,KAAqB,CAArB,IAA0BF,WAAWF,MAAX,CAA1B;;cAEUK,GAAV,CAAc,UAACC,KAAD,EAAQC,CAAR,EAAc;eACjBA,CAAP,IAAY,IAAIC,KAAJ,EAAZ;eACOD,CAAP,EAAUE,GAAV,GAAgBH,KAAhB;eACOC,CAAP,EAAUG,MAAV,GAAmBC,SAAnB;eACOJ,CAAP,EAAUK,OAAV,GAAoBD,SAApB;KAJJ;;aAOSA,SAAT,GAAqB;uBACF,CAACV,QAAQ,CAAT,IAAc,GAAd,GAAoBD,OAAOI,MAA1C,EAAkDJ,OAAOC,KAAP,CAAlD;;YAEIA,SAASF,UAAUK,MAAvB,EAA+BF,WAAWH,UAAUK,MAAV,KAAqB,CAArB,GAAyBJ,OAAO,CAAP,CAAzB,GAAqCA,MAAhD;;;WAG5B;YAAA,kBACI;yBACUa,UAAU,CAAV,KAAgBX,UAA7B;SAFD;gBAAA,sBAIQ;6BACUW,UAAU,CAAV,KAAgBV,cAAjC;;KALR;;;"}