{"version":3,"file":"preload.min.js","sources":["../src/index.js"],"sourcesContent":["export default function preload(imageUrls) {\n    let images = [],\n        count = 0,\n        doneAction = function () {},\n        progressAction = function () {};\n\n    imageUrls = (typeof imageUrls != 'object') ? [imageUrls] : imageUrls;\n\n    imageUrls.length === 0 && doneAction(images);\n\n    imageUrls.map((image, i) => {\n        images[i] = new Image();\n        images[i].src = image;\n        images[i].onload = imageLoad;\n        images[i].onerror = imageLoad;\n    });\n\n    function imageLoad() {\n        progressAction((count + 1) * 100 / images.length, images[count]);\n        count++;\n        if (count == imageUrls.length) doneAction(imageUrls.length === 1 ? images[0] : images);\n    }\n\n    return {\n        done() {\n            doneAction = arguments[0] || doneAction;\n        },\n        progress() {\n            progressAction = arguments[0] || progressAction;\n        },\n    };\n}\n"],"names":["preload","imageUrls","imageLoad","count","images","length","doneAction","progressAction","map","image","i","Image","src","onload","onerror","arguments"],"mappings":"4LAAA,SAAwBA,GAAQC,WAiBnBC,OACwB,KAAbC,EAAQ,GAAWC,EAAOC,OAAQD,EAAOD,SAE5CF,EAAUI,QAAQC,EAAgC,IAArBL,EAAUI,OAAeD,EAAO,GAAKA,MAnB/EA,MACAD,EAAQ,EACRG,EAAa,aACbC,EAAiB,sBAEY,oBAAbN,gBAAAA,KAA0BA,GAAaA,EAEtC,MAAXI,QAAgBC,EAAWF,KAE3BI,IAAI,SAACC,EAAOC,KACXA,GAAK,GAAIC,SACTD,GAAGE,IAAMH,IACTC,GAAGG,OAASX,IACZQ,GAAGI,QAAUZ,uBAWHa,UAAU,IAAMT,yBAGZS,UAAU,IAAMR"}